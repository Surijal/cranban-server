(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{34:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),s=a.n(c),o=a(1),l=a(2),i=a(4),u=a(3),d=a(5),m=a(14),p=a(8),h=a(6),f=a(13),g=a.n(f),v="https://cranban.herokuapp.com",E=new(function(){function e(){Object(o.a)(this,e),this.auth=g.a.create({baseURL:v,withCredentials:!0})}return Object(l.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.email;return this.auth.post("/auth/signup",{username:t,password:a,email:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),b=new function e(){var t=this;Object(o.a)(this,e),this.getUserById=function(e){return t.user.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getUserByEmail=function(e){return t.user.get("/email/".concat(e)).then((function(e){return e.datat})).catch((function(e){return console.log(e)}))},this.patchUser=function(e){var a=e.username,n=e.password,r=e.email,c=e.id;return t.user.patch("/".concat(c),{username:a,password:n,email:r}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.deleteUser=function(e){return t.user.delete("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log}))},this.user=g.a.create({baseURL:"".concat("https://cranban.herokuapp.com","/api/users"),withCredentials:!0})},j=r.a.createContext(),y=j.Consumer,N=j.Provider,k=function(e){return function(t){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(y,null,(function(a){var n=a.login,c=a.signup,s=a.user,o=a.logout,l=a.isLoggedin,i=a.isLoading,u=a.deleteUser;return r.a.createElement(e,Object.assign({login:n,signup:c,user:s,logout:o,isLoggedin:l,isLoading:i,deleteUser:u},t.props))}))}}]),a}(r.a.Component)},O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},a.deleteUser=function(){var e=a.state.user._id;return b.deleteUser(e).then((function(){a.setState({isLoggedin:!1,user:null,isLoading:!1})})).catch((function(e){return console.log(e)}))},a.signup=function(e){var t=e.username,n=e.password,r=e.email;E.signup({username:t,password:n,email:r}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.login=function(e){var t=e.username,n=e.password;console.log("user",e),E.login({username:t,password:n}).then((function(e){return a.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},a.logout=function(){E.logout().then((function(){return a.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,c=this.login,s=this.logout,o=this.signup,l=this.deleteUser;return r.a.createElement(N,{value:{isLoading:t,isLoggedin:a,user:n,login:c,logout:s,signup:o,deleteUser:l}},this.props.children)}}]),t}(r.a.Component),S=k(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,c=t.email;a.props.signup({username:n,password:r,email:c})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.email;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Sign Up")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"signup-username"},"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,autoComplete:"off",onChange:this.handleChange,id:"signup-username",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"signup-email"},"email:"),r.a.createElement("input",{type:"email",name:"email",value:n,autoComplete:"off",onChange:this.handleChange,id:"signup-email",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"signup-password"},"Password:"),r.a.createElement("input",{type:"password",name:"password",value:a,autoComplete:"off",onChange:this.handleChange,id:"signup-password",className:"form-control"})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Signup",autoComplete:"off",className:"btn btn-primary mt-3"})),r.a.createElement("div",null,r.a.createElement("p",null,"Already have account?"),r.a.createElement(h.b,{to:"/login"}," Login"))))),r.a.createElement("div",{className:"card-footer d-flex justify-content-end"},r.a.createElement(h.b,{to:"/"}," Back"))))}}]),t}(n.Component)),w=k(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login({username:n,password:r})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Login")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"login-username"},"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,autoComplete:"off",onChange:this.handleChange,id:"login-username",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"login-password"},"Password:"),r.a.createElement("input",{type:"password",name:"password",value:a,autoComplete:"off",onChange:this.handleChange,id:"login-password",className:"form-control"})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("input",{type:"submit",value:"Login",autoComplete:"off",className:"btn btn-primary"})))),r.a.createElement("div",{className:"card-footer d-flex justify-content-end"},r.a.createElement(h.b,{to:"/"}," Back"))))}}]),t}(n.Component)),P=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Private Route"))}}]),t}(n.Component),C=new function e(){var t=this;Object(o.a)(this,e),this.getAllProjects=function(){return t.projects.get("/projects").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getUserProjects=function(e){var a=e;return t.projects.get("/projects/user/".concat(a)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getSingleProject=function(e){return t.projects.get("/projects/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.createProject=function(e){var a=e.title,n=e.description,r=e.deadline;return t.projects.post("/projects",{title:a,description:n,deadline:r}).then((function(e){return e.data.newProject})).catch((function(e){return console.log(e)}))},this.updateProject=function(e){var a=e.title,n=e.description,r=e.deadline,c=e.id;return t.projects.put("/projects/".concat(c),{title:a,description:n,deadline:r}).then((function(e){return e.data.updatedProject})).catch((function(e){return console.log(e)}))},this.deleteProject=function(e){var a=e;return t.projects.delete("/projects/".concat(a))},this.projects=g.a.create({baseURL:"".concat("https://cranban.herokuapp.com","/api/"),withCredentials:!0})},x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",deadline:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.projectData,t=e._id,a=e.title,n=e.description;return r.a.createElement("div",{key:t,className:"card mt-3 mb-3"},r.a.createElement(h.b,{to:"/projects/".concat(t)},r.a.createElement("div",{className:"card-header"},"Project:"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},a),r.a.createElement("p",{className:"card-text "},n))))}}]),t}(n.Component),D=k(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",deadline:"",isShowing:!1},a.toggleForm=function(){a.setState({isShowing:!a.state.isShowing})},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.createProject()},a.createProject=function(){var e=a.state,t=e.title,n=e.description,r=e.deadline;C.createProject({title:t,description:n,deadline:r}).then((function(e){a.setState({title:"",description:"",deadline:"",isShowing:!1}),a.props.refreshProjectList()})).catch((function(e){return console.log(e)}))},a.convertDate=function(){var e=(new Date).toISOString().substring(0,10);a.setState({deadline:e})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.convertDate()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.isShowing?r.a.createElement("div",{className:"card mt-3"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"card-header"},r.a.createElement("input",{className:"form-control",type:"text",name:"title",placeholder:"Title",value:this.state.title,onChange:function(t){return e.handleInput(t)}})),r.a.createElement("div",{className:"card-body"},r.a.createElement("textarea",{className:"form-control",type:"text",name:"description",placeholder:"Description",id:"",cols:"30",rows:"4",value:this.state.description,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("input",{className:"form-control mb-3 mt-3",type:"date",name:"deadline",placeholder:"Deadline",value:this.state.deadline,onChange:function(t){return e.handleInput(t)}})),r.a.createElement("div",{className:"card-footer d-flex justify-content-around"},r.a.createElement("button",{className:"btn btn-primary"},"Submit")))):r.a.createElement("button",{onClick:this.toggleForm,className:"btn btn-primary"},"Add Project"))}}]),t}(n.Component)),F=k(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={listOfProjects:[]},a.getUserListOfProjects=function(){var e=a.props.user._id;C.getUserProjects(e).then((function(e){a.setState({listOfProjects:e})})).catch((function(e){return console.log(e)}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUserListOfProjects()}},{key:"render",value:function(){var e=this.state.listOfProjects;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement("div",{className:"container"},r.a.createElement(D,{refreshProjectList:this.getUserListOfProjects}),this.state.listOfProjects.length?this.state.listOfProjects.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(x,{projectData:e}))})):r.a.createElement("h3",null,"Create your first Project")):r.a.createElement("h1",null,"Loading"))}}]),t}(n.Component)),I=k(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.updateProject()},a.toggleForm=function(){a.setState({isShowing:!a.state.isShowing})},a.deleteProject=function(){var e=a.props.match.params.id;C.deleteProject(e).then((function(){a.props.history.push("/projects")})).catch((function(e){return console.log(e)}))},a.convertDate=function(){var e=a.props.singleProject.deadline,t=new Date(e).toISOString().substring(0,10);a.setState({deadline:t})},a.updateProject=function(){var e=a.state,t=e.title,n=e.description,r=e.deadline,c=a.props.projectId;C.updateProject({title:t,description:n,deadline:r,id:c}).then((function(e){a.setState({title:"",description:"",deadline:"",updatedProject:null,isShowing:!1}),a.props.refreshProjectDetails()})).catch((function(e){return console.log(e)}))},a.state={title:"",description:"",deadline:"",updatedProject:null,isShowing:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.singleProject,t=e.deadline,a=e.title,n=e.description;this.setState({deadline:t,title:a,description:n}),this.convertDate()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card mt-5 mb-3 "},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Edit Project")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"card-title form-control mt-3 mb-3",type:"text",name:"title",placeholder:"Title",value:this.state.title,onChange:function(t){return e.handleInput(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",type:"text",name:"description",placeholder:"Description",id:"",rows:"4",value:this.state.description,onChange:function(t){return e.handleInput(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"date",name:"deadline",value:this.state.deadline,onChange:function(t){return e.handleInput(t)}}))),r.a.createElement("div",{className:"d-flex justify-content-around card-footer"},r.a.createElement("button",{className:"btn btn-primary"},"Submit"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.deleteProject()}},"Delete"))))))}}]),t}(n.Component)),T=new function e(){var t=this;Object(o.a)(this,e),this.getSingleTask=function(e){return t.tasks.get("/tasks/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getTasksByProject=function(e){var a=e.projectId,n=e.taskId;return t.tasks.get("/projects/".concat(a,"/tasks/").concat(n)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.createTask=function(e){var a=e.title,n=e.description,r=e.deadline,c=e.projectId,s=e.status,o=e.type,l=e.done;return t.tasks.post("/tasks",{title:a,description:n,deadline:r,projectId:c,status:s,type:o,done:l}).then((function(e){return e.data.newTask})).catch((function(e){return console.log(e)}))},this.updateTask=function(e){var a=e.title,n=e.description,r=e.deadline,c=e.taskId,s=e.done,o=e.type,l=e.status;return t.tasks.put("/tasks/".concat(c),{title:a,description:n,deadline:r,done:s,type:o,status:l}).then((function(e){return e.data.updatedTask})).catch((function(e){return console.log(e)}))},this.deleteTask=function(e){var a=e;return t.tasks.delete("/tasks/".concat(a)).catch((function(e){return console.log(e)}))},this.tasks=g.a.create({baseURL:"http://localhost:5000/api/",withCredentials:!0})},L=k(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.createTask()},a.toggleForm=function(e){a.setState({isShowing:!a.state.isShowing})},a.createTask=function(e){var t=a.state,n=t.title,r=t.description,c=t.deadline,s=t.status,o=t.type,l=t.done,i=a.props.projectId;T.createTask({title:n,description:r,deadline:c,projectId:i,status:s,type:o,done:l}).then((function(e){a.setState({title:"",description:"",deadline:"",isShowing:!1}),a.props.refreshSingleProject(e)})).catch((function(e){return console.log(e)}))},a.convertDate=function(){var e=(new Date).toISOString().substring(0,10);a.setState({deadline:e})},a.state={title:"",description:"",deadline:"",isShowing:!1,type:"",status:"",done:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.convertDate()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card mt-5 mb-3 "},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},"Add new Task")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control mb-3",type:"text",name:"title",placeholder:"Title",value:this.state.title,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",type:"text",name:"description",placeholder:"Description",id:"",rows:"4",value:this.state.description,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{className:"form-control custom-control",type:"text",name:"status",id:"status",value:"",onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",null,"to do"),r.a.createElement("option",null,"doing"),r.a.createElement("option",null,"done"),r.a.createElement("option",null,"testing"),r.a.createElement("option",null,"backlog"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{type:"text",name:"type",id:"testid",className:"form-control",value:"",onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",null,"frontend"),r.a.createElement("option",null,"backend"),r.a.createElement("option",null,"styles"),r.a.createElement("option",null,"preperation"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",name:"deadline",placeholder:"Deadline",value:this.state.deadline,onChange:function(t){return e.handleChange(t)},className:"form-control custom-control"}))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{className:"btn btn-primary"},"Submit"))))))}}]),t}(n.Component)),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={title:"",description:"",deadline:"",singleProject:null,tasks:[],typeFilter:"",statusFilter:"",isFiltered:!1,allTasks:!1},a.toggleFilterStatus=function(e){var t=e.target.value;a.setState({isFiltered:!0,statusFilter:t})},a.toggleFilterType=function(e){var t=e.target.value;a.setState({isFiltered:!0,typeFilter:t})},a.renderFilteredTasks=function(){var e=a.props.singleProject,t=e.tasks,n=e._id;return t.filter((function(e){return""===a.state.statusFilter||function(e){return e.status===a.state.statusFilter}(e)})).filter((function(e){return""===a.state.typeFilter||function(e){return e.type===a.state.typeFilter}(e)})).map((function(e){return r.a.createElement("div",{key:e._id,className:"task-card"},r.a.createElement(h.b,{to:"/projects/".concat(n,"/tasks/").concat(e._id)},r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.description)))}))},a.renderAllTasks=function(){var e=a.props.singleProject,t=e.tasks,n=e._id;return t.map((function(e){return r.a.createElement("div",{key:e._id,className:"task-card"},r.a.createElement(h.b,{to:"/projects/".concat(n,"/tasks/").concat(e._id)},r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.description)))}))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.singleProject.singleProject;this.setState({singleProject:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.statusFilter),r.a.createElement("h2",null,this.state.typeFilter),r.a.createElement("div",{className:"tasks-container"},r.a.createElement("div",{id:"carouselExampleControls",className:"carousel slide","data-ride":"carousel"},r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("h3",null,"All Tasks")),this.props.singleProject.tasks.map((function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement(h.b,{to:"/projects/".concat(e.project,"/tasks/").concat(e._id)},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.description))))}))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("h3",null,"Backlog")),this.props.singleProject.tasks.filter((function(e){return"backlog"===e.status})).map((function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement(h.b,{to:"/projects/".concat(e.project,"/tasks/").concat(e._id)},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.description))))}))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("h3",null,"To do")),this.props.singleProject.tasks.filter((function(e){return"to do"===e.status})).map((function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement(h.b,{to:"/projects/".concat(e.project,"/tasks/").concat(e._id)},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.description))))}))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("h3",null,"Done"))),this.props.singleProject.tasks.filter((function(e){return"doing"===e.status})).map((function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement(h.b,{to:"/projects/".concat(e.project,"/tasks/").concat(e._id)},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.description))))}))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("h3",null,"Testing")),this.props.singleProject.tasks.filter((function(e){return"testing"===e.status})).map((function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement(h.b,{to:"/projects/".concat(e.project,"/tasks/").concat(e._id)},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.description))))}))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("h3",null,"Done")),this.props.singleProject.tasks.filter((function(e){return"done"===e.status})).map((function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement(h.b,{to:"/projects/".concat(e.project,"/tasks/").concat(e._id)},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-title"},e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.description))))})))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getSingleProject=function(){var e=a.props.match.params.id;C.getSingleProject(e).then((function(e){a.setState({singleProject:e},(function(){return a.convertDate()}))})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target;a.setState({filterType:t})},a.renderFilterByTypeForm=function(e){var t=e;"All in list"===t?a.state.singleProject.tasks.filter((function(e){return"testing"===e.status})).map((function(e){return r.a.createElement("div",{key:e._id,className:"task-container"},r.a.createElement(h.b,{to:"/projects/".concat(a.state.singleProject._id,"/tasks/").concat(e._id)},r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.description)))})):a.state.singleProject.tasks.filter((function(e){return e.type===t})).map((function(e){return r.a.createElement("div",{key:e._id,className:"task-container"},r.a.createElement(h.b,{to:"/projects/".concat(a.state.singleProject._id,"/tasks/").concat(e._id)},r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.description)))}))},a.renderEditForm=function(){return!a.state.title&&a.state.description?null:r.a.createElement("div",null,r.a.createElement(I,Object.assign({projectId:a.state.singleProject._id,singleProject:a.state.singleProject,refreshProjectDetails:a.getSingleProject},a.props,{deleteProject:a.deleteProject,className:"container"})))},a.toggleAddForm=function(){a.setState({showAddForm:!a.state.showAddForm})},a.toggleEditForm=function(){a.setState({showEditForm:!a.state.showEditForm})},a.convertDate=function(){var e=a.state.singleProject.deadline,t=new Date(e).toISOString().substring(0,10);a.setState({deadline:t})},a.state={title:"",description:"",deadline:"",singleProject:null,tasks:[],filterType:"",statusBacklog:!1,statusTesting:!1,statusToDO:!1,statusDone:!1,showButtons:!0,showAddForm:!1,showEditForm:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.getSingleProject(e)}},{key:"render",value:function(){var e=this.state.singleProject;return r.a.createElement("div",null,e?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mt-3 card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Project:")),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},this.state.singleProject.title),r.a.createElement("p",{className:"card-text"},this.state.singleProject.description),r.a.createElement("p",null,"Deadline: ",this.state.deadline)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-around"},r.a.createElement("button",{onClick:this.toggleAddForm,className:"btn btn-primary"},"Add"),r.a.createElement("button",{onClick:this.toggleEditForm,className:"btn btn-primary"},"Edit")),this.state.showAddForm?r.a.createElement("div",{className:"row"},r.a.createElement(L,{projectId:this.state.singleProject._id,refreshSingleProject:this.getSingleProject})):null,this.state.showEditForm?r.a.createElement("div",{className:"row"},r.a.createElement(I,Object.assign({projectId:this.state.singleProject._id,singleProject:this.state.singleProject,refreshProjectDetails:this.getSingleProject},this.props,{deleteProject:this.deleteProject}))):null))),r.a.createElement("div",null,r.a.createElement(U,Object.assign({singleProject:e},this.props)))):r.a.createElement("h1",null,"Loading"))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleForm=function(e){a.setState({isShowing:!a.state.isShowing})},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.deleteUser()},a.deleteUser=function(){a.props.deleteUser().then((function(){a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.state={password:"",isShowing:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleForm,className:"btn btn-primary"},"Delete User Profile"),this.state.isShowing?r.a.createElement("div",null,r.a.createElement("h5",null,"Confirm your password to delete Profile"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"delete-user"},"Password:"),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",id:"delete-user",value:this.state.password,onChange:function(t){return e.handleInput(t)},className:"form-control"})),r.a.createElement("button",{className:"btn btn-primary"},"Delete Profile"))):null)}}]),t}(n.Component),B=Object(m.g)(k(A)),M=k(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleForm=function(){a.setState({isShowing:!a.state.isShowing})},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.patchUser()},a.patchUser=function(){var e=a.state,t=e.username,n=e.password,r=e.email,c=a.props.user._id;b.patchUser({username:t,password:n,email:r,id:c}).then((function(e){a.setState({username:"",password:"",email:""})})).catch((function(e){return console.log(e)}))},a.state={username:"",password:"",email:"",isShowing:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.isShowing?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("label",{htmlFor:"edit-name"},"Name:"),r.a.createElement("input",{type:"text",name:"username",id:"edit-name",autoComplete:"off",className:"form-control",placeholder:this.props.user.username,value:this.state.username,onChange:function(t){return e.handleInput(t)}})),r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("label",{htmlFor:"edit-email"},"Email:"),r.a.createElement("input",{type:"text",name:"email",id:"edit-email",autoComplete:"off",className:"form-control",placeholder:"email",value:this.state.email,onChange:function(t){return e.handleInput(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"edit-password"},"Password:"),r.a.createElement("input",{type:"password",name:"password",autoComplete:"off",id:"edit-password",className:"form-control",placeholder:"password",value:this.state.password,onChange:function(t){return e.handleInput(t)}})),r.a.createElement("div",{className:"d-flex justify-content-around form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary form-control",onClick:function(){e.toggleForm()}},"Update")))):r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("button",{onClick:this.toggleForm,className:"btn btn-primary"},"Edit User"),r.a.createElement(B,null)))}}]),t}(n.Component)),R=k(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getUserById=function(){var e=a.props.match.params.id;b.getUserById(e).then((function(e){var t=e.username,n=e.password,r=e.email;a.setState({username:t,password:n,email:r})})).catch((function(e){return console.log(e)}))},a.state={username:"",password:"",email:"",isShowing:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUserById()}},{key:"render",value:function(){var e=this.props.logout;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card mt-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"card-title"},"Profile:")),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},this.state.username),r.a.createElement("p",{className:"card-title mb-0"},this.state.email)),r.a.createElement("div",{className:"card-footer"},r.a.createElement(M,{refreshUserProfile:this.getUserById}))),r.a.createElement("div",{className:"d-flex align-content-end"},r.a.createElement(h.b,{to:"/"}," ",r.a.createElement("button",{className:"btn btn-primary mt-3",onClick:e},"Logout")," ")))}}]),t}(n.Component)),J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).goBack=function(){a.props.history.goBack()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.isLoggedin;return r.a.createElement("div",null,a?r.a.createElement("nav",{className:"navbar  navbar-light bg-dark fixed-bottom"},r.a.createElement(h.b,{to:"/user/".concat(t._id),className:"nav-link nav-brand"}," ",r.a.createElement("img",{alt:"profile",src:"/images/person.png",width:"30px",height:"30px"})," "),r.a.createElement("button",{className:"nav-link nav-brand",onClick:this.goBack}," ","Go back"," "),r.a.createElement(h.b,{to:"/projects",className:"nav-link nav-brand"}," ",r.a.createElement("img",{alt:"projects",src:"/images/week.png",width:"30px",height:"30px"})," ")):r.a.createElement("nav",{className:"navbar  navbar-light bg-light fixed-bottom"}))}}]),t}(n.Component),G=Object(m.g)(k(J)),q=k(function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container mt-3"},r.a.createElement(h.b,{to:"/login"}," ",r.a.createElement("button",null,"Login")," "),r.a.createElement(h.b,{to:"/signup"}," ",r.a.createElement("p",null,"Sign up")," "))}}]),t}(n.Component)),z=a(17);var H=k((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,c=Object(z.a)(e,["component","isLoggedin","isLoading"]);return n?r.a.createElement("h1",null,"Loading"):r.a.createElement(m.b,Object.assign({},c,{render:function(e){return a?r.a.createElement(m.a,{to:"/projects"}):r.a.createElement(t,e)}}))}));var K=k((function(e){var t=e.component,a=e.isLoggedin,n=e.isLoading,c=Object(z.a)(e,["component","isLoggedin","isLoading"]);return n?r.a.createElement("h1",null,"Loading"):r.a.createElement(m.b,Object.assign({},c,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/login"})}}))})),Q=k(function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.updateTask()},a.toggleForm=function(){var e=a.props.singleTask,t=e.description,n=e.title,r=e.deadline,c=e.done,s=e.type,o=e.status;a.setState({isShowing:!a.state.isShowing,description:t,title:n,deadline:r,done:c,type:s,status:o}),a.convertDate()},a.toggleChange=function(){a.setState({done:!a.state.done})},a.deleteTask=function(){var e=a.props.match.params.id;T.deleteTask(e).then((function(e){a.props.history.goBack()})).catch((function(e){return console.log(e)}))},a.convertDate=function(){var e=a.props.singleTask.deadline,t=new Date(e).toISOString().substring(0,10);a.setState({deadline:t})},a.updateTask=function(){var e=a.state,t=e.title,n=e.description,r=e.deadline,c=e.done,s=e.type,o=e.status,l=a.props.taskId;(t||n||r||c||s)&&T.updateTask({title:t,description:n,deadline:r,done:c,type:s,status:o,taskId:l}).then((function(e){a.setState({title:"",description:"",deadline:"",updatedProject:null,isShowing:!1,isChecked:!1,done:!1,type:"",status:""},(function(){return a.props.history.goBack()}))})).catch((function(e){return console.log(e)}))},a.state={title:"",description:"",deadline:"",isShowing:null,done:!1,type:"",status:"",singleTask:{}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.singleTask,t=e.deadline,a=e.description,n=e.title,r=e.type,c=e.status;this.setState({deadline:t,description:a,title:n,type:r,status:c}),this.convertDate()}},{key:"render",value:function(){var e=this,t=this.props.singleTask.description;return r.a.createElement("div",null,this.state.isShowing?r.a.createElement("div",{className:"card mt-3"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"card-header"},"Edit Task:"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"title",className:"form-control",value:this.state.title,onChange:function(t){return e.handleInput(t)}})),r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("textarea",{className:"form-control",type:"text",name:"description",value:this.state.description,id:"",cols:"30",rows:"4",onChange:function(t){return e.handleInput(t)}},t),r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("select",{className:"custom-select form-control",type:"text",name:"status",id:"status",value:this.state.type,onChange:function(t){return e.handleInput(t)}},r.a.createElement("option",null,"to do"),r.a.createElement("option",null,"doing"),r.a.createElement("option",null,"done"),r.a.createElement("option",null,"testing"),r.a.createElement("option",null,"backlog"))),r.a.createElement("div",{className:"form-group mt-3 mb-3"},r.a.createElement("select",{type:"text",name:"type",id:"testid",className:"custom-select form-control",value:this.state.type,onChange:function(t){return e.handleInput(t)}},r.a.createElement("option",null,"frontend"),r.a.createElement("option",null,"backend"),r.a.createElement("option",null,"styles"),r.a.createElement("option",null,"preperation"))),r.a.createElement("div",{className:"form-group mt-3"},r.a.createElement("input",{type:"date",name:"deadline",placeholder:"Deadline",className:"form-control custom-select",value:this.state.deadline,onChange:function(t){return e.handleInput(t)}})))),r.a.createElement("div",{className:"card-footer d-flex justify-content-around"},r.a.createElement("button",{className:"btn btn-primary"},"Submit"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.deleteTask()}},"Delete Task")))):r.a.createElement("button",{onClick:this.toggleForm,className:"btn btn-primary"},"Edit Task"))}}]),t}(n.Component)),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getSingleTask=function(){var e=a.props.match.params.id;T.getSingleTask(e).then((function(e){a.setState({title:e.title,description:e.description,deadline:e.deadline,taskId:e._id,projectId:e.project,done:e.done,type:e.type,singleTask:e,status:e.status}),a.convertDate()})).catch((function(e){return console.log(e)}))},a.getProjectTask=function(){var e=a.props,t=e.projectId,n=e.taskId;T.getTasksByProject({projectId:t,taskId:n}).then((function(e){a.setState({singleTask:e})})).catch((function(e){return console.log(e)}))},a.convertDate=function(){var e=a.state.deadline,t=new Date(e).toISOString().substring(0,10);a.setState({deadline:t})},a.state={title:"",description:"",deadline:null,projectTasks:null,taskId:"",projectId:"",done:"",type:"",status:"",singleTask:{}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getSingleTask()}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,n=e.deadline,c=e.taskId,s=e.status,o=e.type,l=e.done,i={title:t,description:a,deadline:n,taskId:c,status:s,type:o,done:l};return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(Q,Object.assign({className:"button",taskId:c,refreshTaskDetails:this.getSingleTask},this.props,{singleTask:i})))),r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},t),r.a.createElement("p",{className:"card-text"}," ",a),r.a.createElement("p",null,"Deadline: ",this.state.deadline),r.a.createElement("p",null,"Done: ",l)),r.a.createElement("div",{className:"card-footer"},r.a.createElement("p",null,s),r.a.createElement("p",null,o))))}}]),t}(n.Component),W=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(G,null),r.a.createElement(m.d,null,r.a.createElement(H,{exact:!0,path:"/signup",component:S}),r.a.createElement(H,{exact:!0,path:"/login",component:w}),r.a.createElement(H,{exact:!0,path:"/",component:q}),r.a.createElement(K,{exact:!0,path:"/private",component:P}),r.a.createElement(K,{exact:!0,path:"/projects",component:F}),r.a.createElement(K,{exact:!0,path:"/projects/:id",component:_}),r.a.createElement(K,{exact:!0,path:"/user/:id",component:R}),r.a.createElement(K,{exact:!0,path:"/projects/:id/tasks/:id",component:V})))}}]),t}(n.Component);s.a.render(r.a.createElement(h.a,null,r.a.createElement(O,null,r.a.createElement(W,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a0f9b50d.chunk.js.map