(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{34:function(e,t,n){e.exports=n(63)},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(31),i=n.n(l),o=n(1),s=n(2),c=n(4),u=n(3),d=n(5),p=n(14),m=n(8),h=n(6),g=n(13),f=n.n(g),j="https://cranban.herokuapp.com",E=new(function(){function e(){Object(o.a)(this,e),this.auth=f.a.create({baseURL:j,withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password,a=e.email;return this.auth.post("/auth/signup",{username:t,password:n,email:a}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),b=r.a.createContext(),v=b.Consumer,y=b.Provider,k=function(e){return function(t){function n(){return Object(o.a)(this,n),Object(c.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(v,null,(function(n){var a=n.login,l=n.signup,i=n.user,o=n.logout,s=n.isLoggedin,c=n.isLoading;return r.a.createElement(e,Object.assign({login:a,signup:l,user:i,logout:o,isLoggedin:s,isLoading:c},t.props))}))}}]),n}(r.a.Component)},O=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password,r=e.email;E.signup({username:t,password:a,email:r}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e){var t=e.username,a=e.password;console.log("user",e),E.login({username:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){E.logout().then((function(){return n.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,l=this.login,i=this.logout,o=this.signup;return r.a.createElement(y,{value:{isLoading:t,isLoggedin:n,user:a,login:l,logout:i,signup:o}},this.props.children)}}]),t}(r.a.Component),S=k(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password,l=t.email;n.props.signup({username:a,password:r,email:l})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(m.a)({},a,r))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.email;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"email:"),r.a.createElement("input",{type:"email",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(h.b,{to:"/login"}," Login"))}}]),t}(a.Component)),w=k(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(m.a)({},a,r))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),P=k(function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedin;return r.a.createElement("div",{style:{borderRadius:"5px",padding:"20px",background:"#686de0"}},a?r.a.createElement("div",null,r.a.createElement("p",null,"username: ",t.username),r.a.createElement("button",{onClick:n},"Logout"),r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement(h.b,{to:"/login"}," ",r.a.createElement("button",null,"Login")," "),r.a.createElement("br",null),r.a.createElement(h.b,{to:"/signup"}," ",r.a.createElement("button",null,"Signup")," ")))}}]),t}(a.Component)),C=new function e(){var t=this;Object(o.a)(this,e),this.getAllProjects=function(){return t.projects.get("/projects").then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getUserProjects=function(e){var n=e;return t.projects.get("/projects/user/".concat(n)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getSingleProject=function(e){return t.projects.get("/projects/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.createProject=function(e){var n=e.title,a=e.description,r=e.deadline;return t.projects.post("/projects",{title:n,description:a,deadline:r}).then((function(e){return e.data.newProject})).catch((function(e){return console.log(e)}))},this.updateProject=function(e){var n=e.title,a=e.description,r=e.deadline,l=e.id;return t.projects.put("/projects/".concat(l),{title:n,description:a,deadline:r}).then((function(e){return e.data.updatedProject})).catch((function(e){return console.log(e)}))},this.deleteProject=function(e){var n=e;return t.projects.delete("/projects/".concat(n))},this.projects=f.a.create({baseURL:"".concat("https://cranban.herokuapp.com","/api/"),withCredentials:!0})},T=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",deadline:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"project-card"},r.a.createElement(h.b,{to:"/projects/".concat(this.props.projectData._id)},r.a.createElement("h2",null,this.props.projectData.title),r.a.createElement("p",null,this.props.projectData.description)))}}]),t}(a.Component),I=k(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",deadline:"",isShowing:!1},n.toggleForm=function(){n.setState({isShowing:!n.state.isShowing})},n.handleInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(m.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.createProject()},n.createProject=function(){var e=n.state,t=e.title,a=e.description,r=e.deadline;C.createProject({title:t,description:a,deadline:r}).then((function(e){n.setState({title:"",description:"",deadline:"",isShowing:!1}),n.props.refreshProjectList()})).catch((function(e){return console.log(e)}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleForm,className:"button"},"Add Project"),this.state.isShowing?r.a.createElement("form",{onSubmit:this.handleSubmit,className:"edit-form"},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",value:this.state.title,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{type:"text",name:"description",placeholder:"Description",id:"",cols:"30",rows:"10",value:this.state.description,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("label",null,"Deadline:"),r.a.createElement("input",{type:"date",name:"deadline",placeholder:"Deadline",value:this.state.deadline,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("button",{className:"button"},"Add Project")):null)}}]),t}(a.Component)),F=k(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={listOfProjects:[]},n.getUserListOfProjects=function(){var e=n.props.user._id;C.getUserProjects(e).then((function(e){n.setState({listOfProjects:e})})).catch((function(e){return console.log(e)}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getUserListOfProjects()}},{key:"render",value:function(){var e=this.state.listOfProjects;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement("div",null,r.a.createElement(I,{refreshProjectList:this.getUserListOfProjects}),this.state.listOfProjects.length?this.state.listOfProjects.map((function(e){return r.a.createElement(T,{key:e._id,projectData:e})})):r.a.createElement("h1",null," Add your first project ")):r.a.createElement("h1",null,"Loading"))}}]),t}(a.Component)),L=k(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(m.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.updateProject()},n.toggleForm=function(){var e=n.props.singleProject,t=e.title,a=e.description,r=e.deadline;n.setState({isShowing:!n.state.isShowing,title:t,description:a,deadline:r})},n.updateProject=function(){var e=n.state,t=e.title,a=e.description,r=e.deadline,l=n.props.projectId;C.updateProject({title:t,description:a,deadline:r,id:l}).then((function(e){n.setState({title:"",description:"",deadline:"",updatedProject:null,isShowing:!1}),n.props.refreshProjectDetails()})).catch((function(e){return console.log(e)}))},n.state={title:"",description:"",deadline:"",updatedProject:null,isShowing:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleForm},"Edit Project"),this.state.isShowing?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,className:"edit-form"},r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",value:this.state.title,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("textarea",{type:"text",name:"description",placeholder:"Description",id:"",cols:"30",rows:"10",value:this.state.description,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("input",{type:"date",name:"deadline",placeholder:"Deadline",value:this.state.deadline,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("button",{className:"button"},"Update Project"))):null)}}]),t}(a.Component)),D=new function e(){var t=this;Object(o.a)(this,e),this.getSingleTask=function(e){return t.tasks.get("/tasks/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getTasksByProject=function(e){var n=e.projectId,a=e.taskId;return t.tasks.get("/projects/".concat(n,"/tasks/").concat(a)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.createTask=function(e){var n=e.title,a=e.description,r=e.deadline,l=e.projectId,i=e.status,o=e.type,s=e.done;return t.tasks.post("/tasks",{title:n,description:a,deadline:r,projectId:l,status:i,type:o,done:s}).then((function(e){return e.data.newTask})).catch((function(e){return console.log(e)}))},this.updateTask=function(e){var n=e.title,a=e.description,r=e.deadline,l=e.taskId,i=e.done,o=e.type,s=e.status;return console.log(">>>>>>>>>>> TaskService",e),t.tasks.put("/tasks/".concat(l),{title:n,description:a,deadline:r,done:i,type:o,status:s}).then((function(e){return e.data.updatedTask})).catch((function(e){return console.log(e)}))},this.deleteTask=function(e){var n=e;return t.tasks.delete("/tasks/".concat(n)).catch((function(e){return console.log(e)}))},this.tasks=f.a.create({baseURL:"http://localhost:5000/api/",withCredentials:!0})},N=k(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(m.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.createTask()},n.toggleForm=function(e){n.setState({isShowing:!n.state.isShowing})},n.createTask=function(e){var t=n.state,a=t.title,r=t.description,l=t.deadline,i=t.status,o=t.type,s=t.done,c=n.props.projectId;D.createTask({title:a,description:r,deadline:l,projectId:c,status:i,type:o,done:s}).then((function(e){n.setState({title:"",description:"",deadline:"",isShowing:!1}),n.props.refreshSingleProject(e)})).catch((function(e){return console.log(e)}))},n.state={title:"",description:"",deadline:"",isShowing:!1,type:"",status:"",done:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleForm},"Add Task"),this.state.isShowing?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,className:"edit-form"},r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",value:this.state.title,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("textarea",{type:"text",name:"description",placeholder:"Description",id:"",cols:"30",rows:"10",value:this.state.description,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",{htmlFor:"status"},"Status"),r.a.createElement("select",{type:"text",name:"status",id:"status",defaultValue:"to do",onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",null,"to do"),r.a.createElement("option",null,"doing"),r.a.createElement("option",null,"done"),r.a.createElement("option",null,"testing"),r.a.createElement("option",null,"backlog")),r.a.createElement("label",{htmlFor:"type"},"Type ",this.props.type),r.a.createElement("select",{type:"text",name:"type",id:"testid",defaultValue:"preperation",onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",null,"frontend"),r.a.createElement("option",null,"backend"),r.a.createElement("option",null,"styles"),r.a.createElement("option",null,"preperation")),r.a.createElement("label",null,"Deadline:"),r.a.createElement("input",{type:"date",name:"deadline",placeholder:"Deadline",value:this.state.deadline,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",null,"Submit"))):null)}}]),t}(a.Component)),U=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleFilterStatus=function(e){var t=e.target.value;n.props.singleProject.singleProject;n.setState({isShowing:!n.state.isShowing,statusFilter:t}),n.renderFilterByTypeForm(t)},n.toggleFilterType=function(e){var t=e.target.value;n.setState({typeFilter:t})},n.renderFilterByTypeForm=function(e){var t=e,a=n.props.singleProject.singleProject;n.setState({singleProject:a}),n.state.isShowing?n.props.singleProject.tasks.filter((function(e){return e.type===t})).map((function(e){return r.a.createElement("div",{key:e._id,className:"task-container"},r.a.createElement(h.b,{to:"/projects/".concat(n.props.singleProject._id,"/tasks/").concat(e._id)},r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.description)))})):n.props.singleProject.tasks.filter((function(e){return e.status===t})).map((function(e){return r.a.createElement("div",{key:e._id,className:"task-container"},r.a.createElement(h.b,{to:"/projects/".concat(n.props.singleProject._id,"/tasks/").concat(e._id)},r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.description)))}))},n.state={title:"",description:"",deadline:"",singleProject:null,tasks:[],typeFilter:"",statusFilter:"",isShowing:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.singleProject.singleProject;this.setState({singleProject:{singleProject:e}}),this.renderFilterByTypeForm()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.statusFilter),r.a.createElement("h2",null,this.state.typeFilter),r.a.createElement("div",{className:"filter-container"},r.a.createElement("button",{className:"button",onClick:this.toggleFilterStatus,value:"backlog"},"Backlog"),r.a.createElement("button",{className:"button",onClick:this.toggleFilterStatus,value:"to do"},"to do"),r.a.createElement("button",{className:"button",onClick:this.toggleFilterStatus,value:"doing"},"doing"),r.a.createElement("button",{className:"button",onClick:this.toggleFilterStatus,value:"testing"},"testing"),r.a.createElement("button",{className:"button",onClick:this.toggleFilterStatus,value:"done"},"done")),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"type"},"Type ",this.props.type),r.a.createElement("select",{type:"text",name:"type",id:"testid",defaultValue:"preperation",onChange:function(t){return e.toggleFilterType(t)}},r.a.createElement("option",null,"frontend"),r.a.createElement("option",null,"backend"),r.a.createElement("option",null,"styles"),r.a.createElement("option",null,"preperation"))),this.state.isShowing?r.a.createElement("h1",null," No Task to Display"):this.props.singleProject.tasks.filter((function(t){return t.status===e.state.statusFilter})).filter((function(t){return t.type===e.state.typeFilter})).map((function(t){return r.a.createElement("div",{key:t._id,className:"task-container edit-form"},r.a.createElement(h.b,{to:"/projects/".concat(e.props.singleProject._id,"/tasks/").concat(t._id)},r.a.createElement("h5",null,t.title),r.a.createElement("p",null,t.description)))})))}}]),t}(a.Component),x=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getSingleProject=function(){var e=n.props.match.params.id;C.getSingleProject(e).then((function(e){n.setState({singleProject:e})})).catch((function(e){return console.log(e)}))},n.deleteProject=function(){var e=n.props.match.params.id;C.deleteProject(e).then((function(){n.props.history.push("/projects")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){var t=e.target;n.setState({filterType:t})},n.renderFilterByTypeForm=function(e){var t=e;"All in list"===t?n.state.singleProject.tasks.filter((function(e){return"testing"===e.status})).map((function(e){return r.a.createElement("div",{key:e._id,className:"task-container"},r.a.createElement(h.b,{to:"/projects/".concat(n.state.singleProject._id,"/tasks/").concat(e._id)},r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.description)))})):n.state.singleProject.tasks.filter((function(e){return e.type===t})).map((function(e){return r.a.createElement("div",{key:e._id,className:"task-container"},r.a.createElement(h.b,{to:"/projects/".concat(n.state.singleProject._id,"/tasks/").concat(e._id)},r.a.createElement("h5",null,e.title),r.a.createElement("p",null,e.description)))}))},n.renderEditForm=function(){return!n.state.title&&n.state.description?null:r.a.createElement(L,Object.assign({projectId:n.state.singleProject._id,singleProject:n.state.singleProject,refreshProjectDetails:n.getSingleProject},n.props))},n.state={title:"",description:"",deadline:"",singleProject:null,tasks:[],filterType:"",statusBacklog:!1,statusTesting:!1,statusToDO:!1,statusDone:!1,statusDoing:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.getSingleProject(e)}},{key:"render",value:function(){var e=this,t=this.state.singleProject;return r.a.createElement("div",null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"project-details-container"},r.a.createElement("div",{className:"project-title-container edit-form"},r.a.createElement("h2",null,"TITLE: ",this.state.singleProject.title),r.a.createElement("p",null,"DESCRIPTION: ",this.state.singleProject.description),r.a.createElement("p",null,"deadline: ",this.state.singleProject.deadline),r.a.createElement("div",null,this.renderEditForm()),r.a.createElement("div",null,r.a.createElement("button",Object(m.a)({className:"button",onClick:function(){return e.deleteProject()}},"className","button"),"Delete Project"),r.a.createElement(N,{className:"button",projectId:this.state.singleProject._id,refreshSingleProject:this.getSingleProject}),r.a.createElement(U,Object.assign({singleProject:t},this.props)))))):r.a.createElement("h1",null,"Loading"))}}]),t}(a.Component),_=new function e(){var t=this;Object(o.a)(this,e),this.getUserById=function(e){return t.user.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.getUserByEmail=function(e){return t.user.get("/email/".concat(e)).then((function(e){return e.datat})).catch((function(e){return console.log(e)}))},this.patchUser=function(e){var n=e.username,a=e.password,r=e.email,l=e.id;return t.user.patch("/".concat(l),{username:n,password:a,email:r}).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},this.deleteUser=function(e){return t.user.delete("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log}))},this.user=f.a.create({baseURL:"".concat("https://cranban.herokuapp.com","/api/users"),withCredentials:!0})},A=k(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleForm=function(e){n.setState({isShowing:!n.state.isShowing})},n.handleInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(m.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.deleteUser()},n.deleteUser=function(){var e=n.props.user._id;console.log(">>>>>>>>>>>> USER PROFILE ID",n.props.user._id),_.deleteUser(e).then((function(){n.props.history.push("/")})).catch((function(e){return console.log(e)}))},n.state={password:"",isShowing:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleForm},"Delete User Profile"),this.state.isShowing?r.a.createElement("div",null,r.a.createElement("h2",null,"Confirm your password to delete Profile"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",id:"",value:this.state.password,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("button",null,"Delete Profile"))):null)}}]),t}(a.Component)),B=k(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleForm=function(){n.setState({isShowing:!n.state.isShowing})},n.handleInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(m.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.patchUser()},n.patchUser=function(){var e=n.state,t=e.username,a=e.password,r=e.email,l=n.props.user._id;_.patchUser({username:t,password:a,email:r,id:l}).then((function(e){n.setState({username:"",password:"",email:""})})).catch((function(e){return console.log(e)}))},n.state={username:"",password:"",email:"",isShowing:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleForm},"Edit User"),r.a.createElement(A,null),this.state.isShowing?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"username:"),r.a.createElement("input",{type:"text",name:"username",placeholder:this.props.user.username,value:this.state.username,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",placeholder:this.props.user.email,id:"",value:this.state.email,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",id:"",value:this.state.password,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("button",null,"Update"))):null)}}]),t}(a.Component)),R=k(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getUserById=function(){var e=n.props.match.params.id;_.getUserById(e).then((function(e){var t=e.username,a=e.password,r=e.email;n.setState({username:t,password:a,email:r})})).catch((function(e){return console.log(e)}))},n.state={username:"",password:"",email:"",isShowing:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getUserById()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"UserProfile"),r.a.createElement("h1",null,this.state.username),r.a.createElement("p",null,this.state.email),r.a.createElement(B,null))}}]),t}(a.Component)),M=k(function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.isLoggedin;return r.a.createElement("div",null,n?r.a.createElement("div",{className:"navbot"},r.a.createElement("div",{className:"nav-user-profile-link"},r.a.createElement(h.b,{to:"/user/".concat(t._id)}," ",r.a.createElement("button",null,"User Profile")," ")),r.a.createElement("div",{className:"nav-projects-link"},r.a.createElement(h.b,{to:"/projects"}," ",r.a.createElement("button",null,"Projects")," ")),r.a.createElement("div",{className:"nav-graph-link"},r.a.createElement(h.b,{to:"/projects"}," ",r.a.createElement("button",null,"Graph")," ")),r.a.createElement("div",{className:"nav-add-project-link"},r.a.createElement(h.b,{to:"/projects"}," ",r.a.createElement("button",null," ProAddject")," "))):r.a.createElement("div",{className:"navbot"},r.a.createElement("h1",null,"HELLO NavbarBot")))}}]),t}(a.Component)),V=n(17);var J=k((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,l=Object(V.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},l,{render:function(e){return n?r.a.createElement(p.a,{to:"/projects"}):r.a.createElement(t,e)}}))}));var G=k((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,l=Object(V.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},l,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),H=(n(61),k(function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(m.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault(),n.updateTask()},n.toggleForm=function(){var e=n.props.singleTask,t=e.description,a=e.title,r=e.deadline,l=e.done,i=e.type,o=e.status;n.setState({isShowing:!n.state.isShowing,description:t,title:a,deadline:r,done:l,type:i,status:o})},n.toggleChange=function(){n.setState({done:!n.state.done})},n.updateTask=function(){var e=n.state,t=e.title,a=e.description,r=e.deadline,l=e.done,i=e.type,o=e.status,s=n.props.taskId;(t||a||r||l||i)&&D.updateTask({title:t,description:a,deadline:r,done:l,type:i,status:o,taskId:s}).then((function(e){n.setState({title:"",description:"",deadline:"",updatedProject:null,isShowing:!1,isChecked:!1,done:!1,type:"",status:""}),n.props.refreshTaskDetails()})).catch((function(e){return console.log(e)}))},n.state={title:"",description:"",deadline:"",isShowing:null,done:!1,type:"",status:"",singleTask:{}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.singleTask,n=(t.title,t.description),a=(t.type,t.status,t.deadline,t.done);return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleForm,className:"button"},"Edit Task"),this.state.isShowing?r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,className:"edit-form"},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{type:"text",name:"description",value:this.state.description,id:"",cols:"30",rows:"5",onChange:function(t){return e.handleInput(t)}},n),r.a.createElement("label",{htmlFor:"done"},"Done"),r.a.createElement("input",{type:"checkbox",name:"done",id:"done",defaultValue:a,onChange:function(t){e.handleInput(t),e.toggleChange(t)},checked:this.state.done}),r.a.createElement("label",{htmlFor:"status"},"Status"),r.a.createElement("select",{type:"text",name:"status",id:"status",value:this.state.type,onChange:function(t){return e.handleInput(t)}},r.a.createElement("option",null,"to do"),r.a.createElement("option",null,"doing"),r.a.createElement("option",null,"done"),r.a.createElement("option",null,"testing"),r.a.createElement("option",null,"backlog")),r.a.createElement("label",{htmlFor:"type"},"Type ",this.props.type),r.a.createElement("select",{type:"text",name:"type",id:"testid",value:this.state.type,onChange:function(t){return e.handleInput(t)}},r.a.createElement("option",null,"frontend"),r.a.createElement("option",null,"backend"),r.a.createElement("option",null,"styles"),r.a.createElement("option",null,"preperation")),r.a.createElement("label",null,"Deadline:"),r.a.createElement("input",{type:"date",name:"deadline",placeholder:"Deadline",value:this.state.deadline,onChange:function(t){return e.handleInput(t)}}),r.a.createElement("button",{className:"button"},"Update"))):null)}}]),t}(a.Component))),q=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getSingleTask=function(){var e=n.props.match.params.id;D.getSingleTask(e).then((function(e){n.setState({title:e.title,description:e.description,deadline:e.deadline,taskId:e._id,projectId:e.project,done:e.done,type:e.type,singleTask:e,status:e.status})})).catch((function(e){return console.log(e)}))},n.getProjectTask=function(){var e=n.props,t=e.projectId,a=e.taskId;D.getTasksByProject({projectId:t,taskId:a}).then((function(e){n.setState({singleTask:e})})).catch((function(e){return console.log(e)}))},n.deleteTask=function(){var e=n.props.match.params.id,t=n.state.projectId;D.deleteTask(e).then((function(e){n.props.history.push("/projects/".concat(t))})).catch((function(e){return console.log(e)}))},n.state={title:"",description:"",deadline:"",projectTasks:null,taskId:"",projectId:"",done:"",type:"",status:"",singleTask:{}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getSingleTask()}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.description,l=t.deadline,i=t.taskId,o=t.status,s=t.type,c=t.done,u={title:n,description:a,deadline:l,taskId:i,status:o,type:s,done:c};return r.a.createElement("div",{className:"edit-form"},r.a.createElement("h2",null,"TITLE: ",n),r.a.createElement("p",null,"DESCRIPTION: ",a),r.a.createElement("p",null,"Deadline: ",l),r.a.createElement("p",null,"Status: ",o),r.a.createElement("p",null,"Type: ",s),r.a.createElement("p",null,"Done: ",c),r.a.createElement("div",{className:"action-container"},r.a.createElement("button",{className:"button",onClick:function(){return e.deleteTask()}},"Delete Task"),r.a.createElement(H,Object.assign({className:"button",taskId:i,refreshTaskDetails:this.getSingleTask},this.props,{singleTask:u}))))}}]),t}(a.Component),z=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(P,null),r.a.createElement(M,null),r.a.createElement(p.d,null,r.a.createElement(J,{exact:!0,path:"/signup",component:S}),r.a.createElement(J,{exact:!0,path:"/login",component:w}),r.a.createElement(G,{exact:!0,path:"/projects",component:F}),r.a.createElement(G,{exact:!0,path:"/projects/:id",component:x}),r.a.createElement(G,{exact:!0,path:"/user/:id",component:R}),r.a.createElement(G,{exact:!0,path:"/projects/:id/tasks/:id",component:q})))}}]),t}(a.Component);n(62);i.a.render(r.a.createElement(h.a,null,r.a.createElement(O,null,r.a.createElement(z,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.c03a27e4.chunk.js.map